\chapter{Conclusion}

	\section{Summary}
		In this work, implementation of a Blockchain based tool was proposed which works on top of the Relational Database Management System (RDBMS) and ensures the trustworthiness of the records that are stored in the relational database tables. This system follows a mechanism to store the historical records of the transactions on the relational tables in the temporal databases which can be used as a source of data provenance for the database system. To implement the system, two major problems was identified: 
		\begin{itemize}
			\item Lower the cost of queries performed on the temporal database.
			\item Add data transparency to the stored reocords in the temporal table.
		\end{itemize}

		The problem of linear time and storage to perform queries on the temporal databases shown both theoretically and experimentally. In the presence of multiple and concurrent queries on the temporal table, performing such queries are inefficient and infeasable. To solve this problem, the materialization of multiple precomputed snapshots proposed. The proposed method advices that keeping the timestamp of previous queries which was performed on the temporal table
		gives insight into the pattern of queries on the table and identifies hotspots that subsequent queries have high chance of falling into. Optimal segmentation of the performed queries, clusters the hotspots and specify a precomputed snapshot for each cluster to materialize. It is expected that this method result in lowering the overall cost of query answering on the temporal database.

		For the placement of a single snapshot for materialization, both mathematical and experimental approach showed that the most optimal timestamps is the median of previousely performed queries. This notion could be extended for placing multiple precomputed snapshots for materialization, in the sense that when optimal multiple segmentations of the queries were computed, the optimal place in each segmentation for placing the snapshot is the median of queries in that segment.

		Finding the optimal multiple segmentations of the previousely performed queries was performed using three different aproaches: recursive algorithm, dynamic programming and heuristic method. The experiments showed that although the heuristic method does not guarantee the most optimal solution, but because of less computational time in comparison with other two methods and returning satisfactory results, it is more favorable to be utilized in this project.

		Using Blockchain to add record transparency of temporal tables, require these tables to have a few mandatory attributes: the transaction submitters information, the digital signature of the record signed by transaction submitter's cryptoraphic keys and the previous record's digital signature. Having the digital signature of the previous record chains the submitted records together and makes any malicious or accidental record modification evident.

		The validation of the chain of records is done by
		\begin{itemize}
			\item making sure that the current record's \it{'previous signature'} matches the previous record's \it{'current signature'} attribute for all the records in the table.
			\item validate the signature of every single record by using the transaction submitters cryptographic keys.
		\end{itemize}
		
		This procedures are expensive and contradicts the idea of snapshot materialization that we discussed earlier. To solve the problem, it is recommended to create a digital signature of the precomputed snapshots, then the validation of the chain of records is done by:
		\begin{itemize}
			\item check the digital signature of the snapshot that the query is materializing.
			\item for the records that fall in between the query timestamp and snapshot timestamp, use the manual chain validation technique
		\end{itemize}

		Digitally signing the snapshots require the system to check the authenticity of the records that are stored in it beforehand. This procedure requires the system to manually check the validation of the chain of records. This is an expensive procedure, specially for the snapshots that are placed at the end of the timeline. To reduce the cost, it was proposed that the manual chain validation to be performed for the first snapshot and the subsequent snapshots materialize their previous snapshot for chain validation.

	\section{Conclusion}
	In this thesis, in order to establish a trusted temporal relational database, the use of historical data as a source of data provenance is suggested. Data provenance sources can hold useful evidences about the legitimacy of a record throughout its lifecycle in a database system. Temporal databases are a good candidate to store the historical data on becuase it gives us a systematic way to work with the historical data. Since the temporal databases are not immune from malicious attacks, it is required that the data stored in them to be immutible, and any attempts for a forgery on their records to be computationally expensive and evident. Digital signature not only guarantees the immutability of the records in a database, but also is a verifiable evidence to show that the transaction has been authenticated. This makes digital signatures as a perfect tool to guarantee the immutability of the records in the source of data provenance. To reduce the risk of adverserial attacks, the records that are digitally signed could be chained together by a record holding its previous record's digital signature. This makes any malicious or accidental modification of the records evident.
	Append-only temporal databases can become massive as they store all the updates on the relations of a database. This makes querying on the temporal database expensive as there is a need to compute a large workload for each query. Snapshot materialization is a suitable way to reduce the cost of query answering on the temporal databases. If the right number of snapshots chosen, and they placed in optimal timestamps for materialization, not only the cost of answering to the queries can be reduced, but also the verification of the authenticity of chains of records can be done in a much faster way.
	\section{Future work and other remarks}
		Possible extensions that could be added are: adding the revision functionality in which the maliciousely altered records are revised to their previous form. The application of the work is endless and it ranges from ordinary relational database of an enterprise, to the databases of the social media and it could be used to find th origin of a submitted post in these mediums.